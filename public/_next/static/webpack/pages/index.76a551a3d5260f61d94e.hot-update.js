/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Home; }\n/* harmony export */ });\n/* harmony import */ var _Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! qrcode */ \"./node_modules/qrcode/lib/browser.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/head */ \"./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _shared_firebase__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../shared/firebase */ \"./shared/firebase.ts\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n\n\n\n\n\n\nvar _jsxFileName = \"/Users/yi/Code/vaccinepassport/client/pages/index.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\n\n\n\n\nvar apis = [\"approveTicket\", \"canAccessImage\", \"deleteUser\", \"downloadImage\", \"getTicket\", \"getUrl\", \"uploadImage\"];\n\nfunction QR(_ref) {\n  _s();\n\n  var url = _ref.url;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(\"\"),\n      dataUrl = _useState[0],\n      setDataUrl = _useState[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function () {\n    var opts = {\n      errorCorrectionLevel: \"H\",\n      type: \"image/png\",\n      scale: 8,\n      color: {\n        dark: \"#059669FF\"\n      }\n    };\n    qrcode__WEBPACK_IMPORTED_MODULE_4__.toDataURL(url, opts, function (err, url) {\n      if (err) throw err;\n      setDataUrl(url);\n    });\n  }, [url]);\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n    src: dataUrl,\n    alt: \"Scan QR Code to see vaccination card.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 10\n  }, this);\n}\n\n_s(QR, \"wwwJSwEX0VtN6z3gLh4HOIL2xHQ=\");\n\n_c = QR;\n\nfunction NoImage(_ref2) {\n  _s2();\n\n  var token = _ref2.token,\n      setImageUrl = _ref2.setImageUrl;\n  var imageInput = (0,react__WEBPACK_IMPORTED_MODULE_6__.useRef)(null);\n\n  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(null),\n      imageDataUrl = _useState2[0],\n      setImageDataUrl = _useState2[1];\n\n  function handleChange() {\n    var file = imageInput.current.files[0];\n    var fileReader = new FileReader();\n\n    fileReader.onload = function () {\n      setImageDataUrl(fileReader.result);\n    };\n\n    fileReader.readAsDataURL(file);\n  }\n\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"form\", {\n    onSubmit: /*#__PURE__*/function () {\n      var _ref3 = (0,_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.default)( /*#__PURE__*/_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee(e) {\n        var file, formData, response, json, imageUrl;\n        return _Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                file = imageInput.current.files[0];\n                formData = new FormData();\n                formData.append(\"file\", file);\n                _context.next = 6;\n                return fetch(\"https://us-central1-vaccinepassport-dev.cloudfunctions.net/\" + \"uploadImage\", {\n                  method: \"POST\",\n                  body: formData,\n                  headers: new Headers({\n                    Authorization: \"Bearer \".concat(token)\n                  })\n                });\n\n              case 6:\n                response = _context.sent;\n                _context.next = 9;\n                return response.json();\n\n              case 9:\n                json = _context.sent;\n                imageUrl = json.payload.imageUrl;\n                setImageUrl(imageUrl);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n      className: \"text-center py-32\",\n      children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"input\", {\n        id: \"image\",\n        type: \"file\",\n        accept: \"image/png, image/jpeg\",\n        ref: imageInput,\n        onChange: handleChange,\n        style: {\n          opacity: 0,\n          position: \"absolute\",\n          height: 0.1,\n          width: 0.1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n        children: imageDataUrl ? /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n          children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n            className: \"p-4\",\n            children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n              src: imageDataUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n            children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"input\", {\n              type: \"submit\",\n              value: \"Upload\",\n              disabled: !token || !imageDataUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n          children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n            className: \"text-lg px-10\",\n            children: \"Take a photo or upload a photo of your vaccine card.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n            className: \"mt-8\",\n            children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"label\", {\n              htmlFor: \"image\",\n              className: \"bg-blue-500 rounded-full py-2 px-4 text-white text-lg border-gray-600 border-2\",\n              children: \"Upload Card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(NoImage, \"UdVlWYFcXqbJBR1yNu62Tb48AcI=\");\n\n_c2 = NoImage;\n\nfunction ExistingImage(_ref4) {\n  _s3();\n\n  var imageUrl = _ref4.imageUrl,\n      setImageUrl = _ref4.setImageUrl,\n      token = _ref4.token;\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(null),\n      tickets = _useState3[0],\n      setTickets = _useState3[1];\n\n  var _useState4 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)([]),\n      processedTickets = _useState4[0],\n      setProcessedTickets = _useState4[1];\n\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(false),\n      deletePending = _useState5[0],\n      setDeletePending = _useState5[1];\n\n  var uid = _shared_firebase__WEBPACK_IMPORTED_MODULE_7__.default.auth().currentUser.uid;\n  (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function () {\n    var db = _shared_firebase__WEBPACK_IMPORTED_MODULE_7__.default.firestore();\n    var userDocRef = db.collection(\"users\").doc(uid);\n    console.log(\"outside snapshot tickets\");\n    console.log(tickets);\n    var unsub = userDocRef.onSnapshot(function (doc) {\n      var userData = doc.data();\n\n      if (!userData) {\n        return;\n      }\n\n      var userTickets = userData.tickets;\n      setProcessedTickets(function (processed) {\n        var now = Date.now();\n        var processedSet = new Set(processed);\n        var hashes = Object.keys(userTickets);\n\n        for (var _i = 0, _hashes = hashes; _i < _hashes.length; _i++) {\n          var _hash = _hashes[_i];\n\n          if (userTickets[_hash].expiration.toMillis() < now) {\n            processedSet.add(_hash);\n          }\n        }\n\n        return (0,_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.default)(processedSet);\n      });\n      setTickets(userTickets);\n    });\n    return function () {\n      console.log(\"unsubscribe\");\n      unsub();\n    };\n  }, [uid]);\n  var qrUrl = new URL(imageUrl, location.href);\n\n  var getNextTicket = function getNextTicket() {\n    if (!tickets) {\n      return {\n        nextHash: null,\n        nextExpiration: null,\n        nextCode: null\n      };\n    }\n\n    var hashes = Object.keys(tickets);\n    var processedSet = new Set(processedTickets);\n    var nearestHash = null;\n    var nearestExpiration = null;\n    var nearestCode = null;\n\n    for (var _i2 = 0, _hashes2 = hashes; _i2 < _hashes2.length; _i2++) {\n      var _hash2 = _hashes2[_i2];\n\n      if (!processedSet.has(_hash2)) {\n        if (!nearestExpiration || tickets[_hash2].expiration.toMillis() < nearestExpiration) {\n          nearestExpiration = tickets[_hash2].expiration.toMillis();\n          nearestHash = _hash2;\n          nearestCode = tickets[_hash2].code;\n        }\n      }\n    }\n\n    return {\n      nextHash: nearestHash,\n      nextExpiration: nearestExpiration,\n      nextCode: nearestCode\n    };\n  };\n\n  var _getNextTicket = getNextTicket(),\n      nextHash = _getNextTicket.nextHash,\n      nextExpiration = _getNextTicket.nextExpiration,\n      nextCode = _getNextTicket.nextCode;\n\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n      children: nextHash && /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n        children: [\"Request to view your image. Code: \", nextCode, \" \", /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"button\", {\n          onClick: /*#__PURE__*/(0,_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.default)( /*#__PURE__*/_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee2() {\n            var response, processedSet;\n            return _Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return fetch(\"https://us-central1-vaccinepassport-dev.cloudfunctions.net/\" + \"approveTicket\" + \"?hash=\".concat(nextHash), {\n                      method: \"POST\",\n                      headers: new Headers({\n                        Authorization: \"Bearer \".concat(token)\n                      })\n                    });\n\n                  case 2:\n                    response = _context2.sent;\n                    processedSet = new Set(processedTickets);\n                    processedSet.add(nextHash);\n                    setProcessedTickets((0,_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.default)(processedSet));\n\n                  case 6:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          })),\n          children: \"Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"button\", {\n          onClick: function onClick() {\n            var processedSet = new Set(processedTickets);\n            processedSet.add(nextHash);\n            setProcessedTickets((0,_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.default)(processedSet));\n          },\n          children: \"Deny\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(QR, {\n        url: qrUrl.href\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"button\", {\n      onClick: /*#__PURE__*/(0,_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.default)( /*#__PURE__*/_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee3() {\n        var response;\n        return _Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                setDeletePending(true);\n                _context3.next = 3;\n                return fetch(\"https://us-central1-vaccinepassport-dev.cloudfunctions.net/\" + \"deleteUser\", {\n                  method: \"POST\",\n                  headers: new Headers({\n                    Authorization: \"Bearer \".concat(token)\n                  })\n                });\n\n              case 3:\n                response = _context3.sent;\n                setImageUrl(null);\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      })),\n      disabled: deletePending,\n      children: \"Delete Image and Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(ExistingImage, \"Zbt/Vn1dM2X02LXN+mutw86Rpjc=\");\n\n_c3 = ExistingImage;\nfunction Home() {\n  _s4();\n\n  var _useState6 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(null),\n      token = _useState6[0],\n      setToken = _useState6[1];\n\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(null),\n      imageUrl = _useState7[0],\n      setImageUrl = _useState7[1];\n\n  var _useState8 = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(true),\n      fetchingUrl = _useState8[0],\n      setFetchingUrl = _useState8[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function () {\n    (0,_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.default)( /*#__PURE__*/_Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee4() {\n      var credential, idToken, response, json, imageUrl;\n      return _Users_yi_Code_vaccinepassport_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _shared_firebase__WEBPACK_IMPORTED_MODULE_7__.default.auth().signInAnonymously();\n\n            case 2:\n              credential = _context4.sent;\n              _context4.next = 5;\n              return credential.user.getIdToken();\n\n            case 5:\n              idToken = _context4.sent;\n              setToken(idToken);\n              _context4.next = 9;\n              return fetch(\"https://us-central1-vaccinepassport-dev.cloudfunctions.net/\" + \"getUrl\", {\n                method: \"GET\",\n                headers: new Headers({\n                  Authorization: \"Bearer \".concat(idToken)\n                })\n              });\n\n            case 9:\n              response = _context4.sent;\n              _context4.next = 12;\n              return response.json();\n\n            case 12:\n              json = _context4.sent;\n              imageUrl = json.payload.imageUrl;\n              setImageUrl(imageUrl);\n              setFetchingUrl(false);\n\n            case 16:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }))();\n  }, []);\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_5___default()), {\n      children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"title\", {\n        children: \"DIY Vaccine Passport\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"link\", {\n        rel: \"icon\",\n        href: \"/vaccine.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"header\", {\n      className: \"bg-blue-500 p-4 text-center text-white text-xl\",\n      children: \"Vaccine Passport\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"main\", {\n      children: fetchingUrl ? /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this) : imageUrl ? /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(ExistingImage, {\n        imageUrl: imageUrl,\n        setImageUrl: setImageUrl,\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(NoImage, {\n        setImageUrl: setImageUrl,\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"footer\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 5\n  }, this);\n}\n\n_s4(Home, \"ffZr5fi4uoex5aUvjVrJ0JacqFY=\");\n\n_c4 = Home;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"QR\");\n$RefreshReg$(_c2, \"NoImage\");\n$RefreshReg$(_c3, \"ExistingImage\");\n$RefreshReg$(_c4, \"Home\");\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vcGFnZXMvaW5kZXgudHN4P2RiNzYiXSwibmFtZXMiOlsiYXBpcyIsIlFSIiwidXJsIiwidXNlU3RhdGUiLCJkYXRhVXJsIiwic2V0RGF0YVVybCIsInVzZUVmZmVjdCIsIm9wdHMiLCJlcnJvckNvcnJlY3Rpb25MZXZlbCIsInR5cGUiLCJzY2FsZSIsImNvbG9yIiwiZGFyayIsIlFSQ29kZSIsImVyciIsIk5vSW1hZ2UiLCJ0b2tlbiIsInNldEltYWdlVXJsIiwiaW1hZ2VJbnB1dCIsInVzZVJlZiIsImltYWdlRGF0YVVybCIsInNldEltYWdlRGF0YVVybCIsImhhbmRsZUNoYW5nZSIsImZpbGUiLCJjdXJyZW50IiwiZmlsZXMiLCJmaWxlUmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJlIiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiZmV0Y2giLCJwcm9jZXNzIiwibWV0aG9kIiwiYm9keSIsImhlYWRlcnMiLCJIZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInJlc3BvbnNlIiwianNvbiIsImltYWdlVXJsIiwicGF5bG9hZCIsIm9wYWNpdHkiLCJwb3NpdGlvbiIsImhlaWdodCIsIndpZHRoIiwiRXhpc3RpbmdJbWFnZSIsInRpY2tldHMiLCJzZXRUaWNrZXRzIiwicHJvY2Vzc2VkVGlja2V0cyIsInNldFByb2Nlc3NlZFRpY2tldHMiLCJkZWxldGVQZW5kaW5nIiwic2V0RGVsZXRlUGVuZGluZyIsInVpZCIsImZpcmViYXNlIiwiY3VycmVudFVzZXIiLCJkYiIsInVzZXJEb2NSZWYiLCJjb2xsZWN0aW9uIiwiZG9jIiwiY29uc29sZSIsImxvZyIsInVuc3ViIiwib25TbmFwc2hvdCIsInVzZXJEYXRhIiwiZGF0YSIsInVzZXJUaWNrZXRzIiwicHJvY2Vzc2VkIiwibm93IiwiRGF0ZSIsInByb2Nlc3NlZFNldCIsIlNldCIsImhhc2hlcyIsIk9iamVjdCIsImtleXMiLCJoYXNoIiwiZXhwaXJhdGlvbiIsInRvTWlsbGlzIiwiYWRkIiwicXJVcmwiLCJVUkwiLCJsb2NhdGlvbiIsImhyZWYiLCJnZXROZXh0VGlja2V0IiwibmV4dEhhc2giLCJuZXh0RXhwaXJhdGlvbiIsIm5leHRDb2RlIiwibmVhcmVzdEhhc2giLCJuZWFyZXN0RXhwaXJhdGlvbiIsIm5lYXJlc3RDb2RlIiwiaGFzIiwiY29kZSIsIkhvbWUiLCJzZXRUb2tlbiIsImZldGNoaW5nVXJsIiwic2V0RmV0Y2hpbmdVcmwiLCJzaWduSW5Bbm9ueW1vdXNseSIsImNyZWRlbnRpYWwiLCJ1c2VyIiwiZ2V0SWRUb2tlbiIsImlkVG9rZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQSxJQUFNQSxJQUFJLEdBQUcsQ0FDWCxlQURXLEVBRVgsZ0JBRlcsRUFHWCxZQUhXLEVBSVgsZUFKVyxFQUtYLFdBTFcsRUFNWCxRQU5XLEVBT1gsYUFQVyxDQUFiOztBQXdCQSxTQUFTQyxFQUFULE9BQXNDO0FBQUE7O0FBQUEsTUFBeEJDLEdBQXdCLFFBQXhCQSxHQUF3Qjs7QUFBQSxrQkFDTkMsK0NBQVEsQ0FBQyxFQUFELENBREY7QUFBQSxNQUM3QkMsT0FENkI7QUFBQSxNQUNwQkMsVUFEb0I7O0FBR3BDQyxrREFBUyxDQUFDLFlBQU07QUFDZCxRQUFNQyxJQUE0QixHQUFHO0FBQ25DQywwQkFBb0IsRUFBRSxHQURhO0FBRW5DQyxVQUFJLEVBQUUsV0FGNkI7QUFHbkNDLFdBQUssRUFBRSxDQUg0QjtBQUluQ0MsV0FBSyxFQUFFO0FBQ0xDLFlBQUksRUFBRTtBQUREO0FBSjRCLEtBQXJDO0FBU0FDLGlEQUFBLENBQWlCWCxHQUFqQixFQUFzQkssSUFBdEIsRUFBNEIsVUFBQ08sR0FBRCxFQUFNWixHQUFOLEVBQWM7QUFDeEMsVUFBSVksR0FBSixFQUFTLE1BQU1BLEdBQU47QUFDVFQsZ0JBQVUsQ0FBQ0gsR0FB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O0FBQUEsY0FEVSxnQkFPViw4REFBQyxPQUFEO0FBQVMsbUJBQVcsRUFBRUMsV0FBdEI7QUFBbUMsYUFBSyxFQUFFRDtBQUExQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVko7QUFBQTtBQUFBO0FBQUE7QUFBQSxZQVZGLGVBd0JFO0FBQUE7QUFBQTtBQUFBO0FBQUEsWUF4QkY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFVBREY7QUE0QkQ7O0lBeER1QmlGLEk7O01BQUFBLEkiLCJmaWxlIjoiLi9wYWdlcy9pbmRleC50c3guanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUVJDb2RlLCB7IFFSQ29kZVRvRGF0YVVSTE9wdGlvbnMgfSBmcm9tIFwicXJjb2RlXCI7XG5pbXBvcnQgSGVhZCBmcm9tIFwibmV4dC9oZWFkXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBmaXJlYmFzZSBmcm9tIFwiLi4vc2hhcmVkL2ZpcmViYXNlXCI7XG5cbmNvbnN0IGFwaXMgPSBbXG4gIFwiYXBwcm92ZVRpY2tldFwiLFxuICBcImNhbkFjY2Vzc0ltYWdlXCIsXG4gIFwiZGVsZXRlVXNlclwiLFxuICBcImRvd25sb2FkSW1hZ2VcIixcbiAgXCJnZXRUaWNrZXRcIixcbiAgXCJnZXRVcmxcIixcbiAgXCJ1cGxvYWRJbWFnZVwiLFxuXTtcblxuaW50ZXJmYWNlIFRpY2tldCB7XG4gIGV4cGlyYXRpb246IGZpcmViYXNlLmZpcmVzdG9yZS5UaW1lc3RhbXA7XG4gIGNvZGU6IG51bWJlcjtcbiAgYXBwcm92ZWQ6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBUaWNrZXRzIHtcbiAgW2hhc2g6IHN0cmluZ106IFRpY2tldDtcbn1cbmludGVyZmFjZSBVc2VyIHtcbiAgaW1hZ2U6IHN0cmluZztcbiAgdGlja2V0czogVGlja2V0cztcbn1cblxuZnVuY3Rpb24gUVIoeyB1cmwgfTogeyB1cmw6IHN0cmluZyB9KSB7XG4gIGNvbnN0IFtkYXRhVXJsLCBzZXREYXRhVXJsXSA9IHVzZVN0YXRlKFwiXCIpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb3B0czogUVJDb2RlVG9EYXRhVVJMT3B0aW9ucyA9IHtcbiAgICAgIGVycm9yQ29ycmVjdGlvbkxldmVsOiBcIkhcIixcbiAgICAgIHR5cGU6IFwiaW1hZ2UvcG5nXCIsXG4gICAgICBzY2FsZTogOCxcbiAgICAgIGNvbG9yOiB7XG4gICAgICAgIGRhcms6IFwiIzA1OTY2OUZGXCIsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBRUkNvZGUudG9EYXRhVVJMKHVybCwgb3B0cywgKGVyciwgdXJsKSA9PiB7XG4gICAgICBpZiAoZXJyKSB0aHJvdyBlcnI7XG4gICAgICBzZXREYXRhVXJsKHVybCk7XG4gICAgfSk7XG4gIH0sIFt1cmxdKTtcblxuICByZXR1cm4gPGltZyBzcmM9e2RhdGFVcmx9IGFsdD1cIlNjYW4gUVIgQ29kZSB0byBzZWUgdmFjY2luYXRpb24gY2FyZC5cIiAvPjtcbn1cblxuZnVuY3Rpb24gTm9JbWFnZSh7XG4gIHRva2VuLFxuICBzZXRJbWFnZVVybCxcbn06IHtcbiAgdG9rZW46IHN0cmluZztcbiAgc2V0SW1hZ2VVcmw6IChpbWFnZVVybDogc3RyaW5nKSA9PiB2b2lkO1xufSkge1xuICBjb25zdCBpbWFnZUlucHV0ID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbaW1hZ2VEYXRhVXJsLCBzZXRJbWFnZURhdGFVcmxdID0gdXNlU3RhdGU8c3RyaW5nPihudWxsKTtcblxuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgY29uc3QgZmlsZSA9IGltYWdlSW5wdXQuY3VycmVudC5maWxlc1swXTtcbiAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBmaWxlUmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHNldEltYWdlRGF0YVVybChmaWxlUmVhZGVyLnJlc3VsdCBhcyBzdHJpbmcpO1xuICAgIH07XG4gICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Zm9ybVxuICAgICAgb25TdWJtaXQ9e2FzeW5jIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBmaWxlID0gaW1hZ2VJbnB1dC5jdXJyZW50LmZpbGVzWzBdO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRV9GVU5DVElPTlNfSE9TVCArIFwidXBsb2FkSW1hZ2VcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh7XG4gICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zdCBpbWFnZVVybCA9IGpzb24ucGF5bG9hZC5pbWFnZVVybDtcbiAgICAgICAgc2V0SW1hZ2VVcmwoaW1hZ2VVcmwpO1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTMyXCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGlkPVwiaW1hZ2VcIlxuICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS9wbmcsIGltYWdlL2pwZWdcIlxuICAgICAgICAgIHJlZj17aW1hZ2VJbnB1dH1cbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgIHN0eWxlPXt7IG9wYWNpdHk6IDAsIHBvc2l0aW9uOiBcImFic29sdXRlXCIsIGhlaWdodDogMC4xLCB3aWR0aDogMC4xIH19XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAge2ltYWdlRGF0YVVybCA/IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00XCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9e2ltYWdlRGF0YVVybH0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPVwiVXBsb2FkXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdG9rZW4gfHwgIWltYWdlRGF0YVVybH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGcgcHgtMTBcIj5cbiAgICAgICAgICAgICAgICBUYWtlIGEgcGhvdG8gb3IgdXBsb2FkIGEgcGhvdG8gb2YgeW91ciB2YWNjaW5lIGNhcmQuXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LThcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgIGh0bWxGb3I9XCJpbWFnZVwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibHVlLTUwMCByb3VuZGVkLWZ1bGwgcHktMiBweC00IHRleHQtd2hpdGUgdGV4dC1sZyBib3JkZXItZ3JheS02MDAgYm9yZGVyLTJcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFVwbG9hZCBDYXJkXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHsvKiB7aW1hZ2VEYXRhVXJsID8gKCkgOiAoXG4gICAgICAgIDwvZGl2PlxuIClcbiAgICAgICAgfSAqL31cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+XG4gICk7XG59XG5cbmZ1bmN0aW9uIEV4aXN0aW5nSW1hZ2UoeyBpbWFnZVVybCwgc2V0SW1hZ2VVcmwsIHRva2VuIH0pIHtcbiAgY29uc3QgW3RpY2tldHMsIHNldFRpY2tldHNdID0gdXNlU3RhdGU8VGlja2V0cz4obnVsbCk7XG4gIGNvbnN0IFtwcm9jZXNzZWRUaWNrZXRzLCBzZXRQcm9jZXNzZWRUaWNrZXRzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtkZWxldGVQZW5kaW5nLCBzZXREZWxldGVQZW5kaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCB1aWQgPSBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTtcbiAgICBjb25zdCB1c2VyRG9jUmVmID0gZGIuY29sbGVjdGlvbihcInVzZXJzXCIpLmRvYyh1aWQpO1xuICAgIGNvbnNvbGUubG9nKFwib3V0c2lkZSBzbmFwc2hvdCB0aWNrZXRzXCIpO1xuICAgIGNvbnNvbGUubG9nKHRpY2tldHMpO1xuXG4gICAgY29uc3QgdW5zdWIgPSB1c2VyRG9jUmVmLm9uU25hcHNob3QoKGRvYykgPT4ge1xuICAgICAgY29uc3QgdXNlckRhdGEgPSBkb2MuZGF0YSgpIGFzIFVzZXI7XG5cbiAgICAgIGlmICghdXNlckRhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB1c2VyVGlja2V0cyA9IHVzZXJEYXRhLnRpY2tldHM7XG5cbiAgICAgIHNldFByb2Nlc3NlZFRpY2tldHMoKHByb2Nlc3NlZCkgPT4ge1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBwcm9jZXNzZWRTZXQgPSBuZXcgU2V0KHByb2Nlc3NlZCk7XG5cbiAgICAgICAgY29uc3QgaGFzaGVzID0gT2JqZWN0LmtleXModXNlclRpY2tldHMpO1xuICAgICAgICBmb3IgKGNvbnN0IGhhc2ggb2YgaGFzaGVzKSB7XG4gICAgICAgICAgaWYgKHVzZXJUaWNrZXRzW2hhc2hdLmV4cGlyYXRpb24udG9NaWxsaXMoKSA8IG5vdykge1xuICAgICAgICAgICAgcHJvY2Vzc2VkU2V0LmFkZChoYXNoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWy4uLnByb2Nlc3NlZFNldF07XG4gICAgICB9KTtcbiAgICAgIHNldFRpY2tldHModXNlclRpY2tldHMpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwidW5zdWJzY3JpYmVcIik7XG4gICAgICB1bnN1YigpO1xuICAgIH07XG4gIH0sIFt1aWRdKTtcblxuICBjb25zdCBxclVybCA9IG5ldyBVUkwoaW1hZ2VVcmwsIGxvY2F0aW9uLmhyZWYpO1xuXG4gIGNvbnN0IGdldE5leHRUaWNrZXQgPSAoKSA9PiB7XG4gICAgaWYgKCF0aWNrZXRzKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0SGFzaDogbnVsbCxcbiAgICAgICAgbmV4dEV4cGlyYXRpb246IG51bGwsXG4gICAgICAgIG5leHRDb2RlOiBudWxsLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBoYXNoZXMgPSBPYmplY3Qua2V5cyh0aWNrZXRzKTtcbiAgICBjb25zdCBwcm9jZXNzZWRTZXQgPSBuZXcgU2V0KHByb2Nlc3NlZFRpY2tldHMpO1xuICAgIGxldCBuZWFyZXN0SGFzaCA9IG51bGw7XG4gICAgbGV0IG5lYXJlc3RFeHBpcmF0aW9uID0gbnVsbDtcbiAgICBsZXQgbmVhcmVzdENvZGUgPSBudWxsO1xuICAgIGZvciAoY29uc3QgaGFzaCBvZiBoYXNoZXMpIHtcbiAgICAgIGlmICghcHJvY2Vzc2VkU2V0LmhhcyhoYXNoKSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIW5lYXJlc3RFeHBpcmF0aW9uIHx8XG4gICAgICAgICAgdGlja2V0c1toYXNoXS5leHBpcmF0aW9uLnRvTWlsbGlzKCkgPCBuZWFyZXN0RXhwaXJhdGlvblxuICAgICAgICApIHtcbiAgICAgICAgICBuZWFyZXN0RXhwaXJhdGlvbiA9IHRpY2tldHNbaGFzaF0uZXhwaXJhdGlvbi50b01pbGxpcygpO1xuICAgICAgICAgIG5lYXJlc3RIYXNoID0gaGFzaDtcbiAgICAgICAgICBuZWFyZXN0Q29kZSA9IHRpY2tldHNbaGFzaF0uY29kZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBuZXh0SGFzaDogbmVhcmVzdEhhc2gsXG4gICAgICBuZXh0RXhwaXJhdGlvbjogbmVhcmVzdEV4cGlyYXRpb24sXG4gICAgICBuZXh0Q29kZTogbmVhcmVzdENvZGUsXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCB7IG5leHRIYXNoLCBuZXh0RXhwaXJhdGlvbiwgbmV4dENvZGUgfSA9IGdldE5leHRUaWNrZXQoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8ZGl2PlxuICAgICAgICB7bmV4dEhhc2ggJiYgKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICBSZXF1ZXN0IHRvIHZpZXcgeW91ciBpbWFnZS4gQ29kZToge25leHRDb2RlfXtcIiBcIn1cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFX0ZVTkNUSU9OU19IT1NUICtcbiAgICAgICAgICAgICAgICAgICAgXCJhcHByb3ZlVGlja2V0XCIgK1xuICAgICAgICAgICAgICAgICAgICBgP2hhc2g9JHtuZXh0SGFzaH1gLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh7XG4gICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRTZXQgPSBuZXcgU2V0KHByb2Nlc3NlZFRpY2tldHMpO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFNldC5hZGQobmV4dEhhc2gpO1xuICAgICAgICAgICAgICAgIHNldFByb2Nlc3NlZFRpY2tldHMoWy4uLnByb2Nlc3NlZFNldF0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBBcHByb3ZlXG4gICAgICAgICAgICA8L2J1dHRvbj57XCIgXCJ9XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRTZXQgPSBuZXcgU2V0KHByb2Nlc3NlZFRpY2tldHMpO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFNldC5hZGQobmV4dEhhc2gpO1xuICAgICAgICAgICAgICAgIHNldFByb2Nlc3NlZFRpY2tldHMoWy4uLnByb2Nlc3NlZFNldF0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBEZW55XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgPFFSIHVybD17cXJVcmwuaHJlZn0gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgc2V0RGVsZXRlUGVuZGluZyh0cnVlKTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRV9GVU5DVElPTlNfSE9TVCArIFwiZGVsZXRlVXNlclwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh7XG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBzZXRJbWFnZVVybChudWxsKTtcbiAgICAgICAgfX1cbiAgICAgICAgZGlzYWJsZWQ9e2RlbGV0ZVBlbmRpbmd9XG4gICAgICA+XG4gICAgICAgIERlbGV0ZSBJbWFnZSBhbmQgRGF0YVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gIGNvbnN0IFt0b2tlbiwgc2V0VG9rZW5dID0gdXNlU3RhdGU8c3RyaW5nPihudWxsKTtcblxuICBjb25zdCBbaW1hZ2VVcmwsIHNldEltYWdlVXJsXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbZmV0Y2hpbmdVcmwsIHNldEZldGNoaW5nVXJsXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNyZWRlbnRpYWwgPSBhd2FpdCBmaXJlYmFzZS5hdXRoKCkuc2lnbkluQW5vbnltb3VzbHkoKTtcbiAgICAgIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCBjcmVkZW50aWFsLnVzZXIuZ2V0SWRUb2tlbigpO1xuICAgICAgc2V0VG9rZW4oaWRUb2tlbik7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVfRlVOQ1RJT05TX0hPU1QgKyBcImdldFVybFwiLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtpZFRva2VufWAsXG4gICAgICAgICAgfSksXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgaW1hZ2VVcmwgPSBqc29uLnBheWxvYWQuaW1hZ2VVcmw7XG4gICAgICBzZXRJbWFnZVVybChpbWFnZVVybCk7XG4gICAgICBzZXRGZXRjaGluZ1VybChmYWxzZSk7XG4gICAgfSkoKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+RElZIFZhY2NpbmUgUGFzc3BvcnQ8L3RpdGxlPlxuICAgICAgICA8bGluayByZWw9XCJpY29uXCIgaHJlZj1cIi92YWNjaW5lLnBuZ1wiIC8+XG4gICAgICA8L0hlYWQ+XG5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiYmctYmx1ZS01MDAgcC00IHRleHQtY2VudGVyIHRleHQtd2hpdGUgdGV4dC14bFwiPlxuICAgICAgICBWYWNjaW5lIFBhc3Nwb3J0XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgPG1haW4+XG4gICAgICAgIHtmZXRjaGluZ1VybCA/IChcbiAgICAgICAgICA8ZGl2PkxvYWRpbmcuLi48L2Rpdj5cbiAgICAgICAgKSA6IGltYWdlVXJsID8gKFxuICAgICAgICAgIDxFeGlzdGluZ0ltYWdlXG4gICAgICAgICAgICBpbWFnZVVybD17aW1hZ2VVcmx9XG4gICAgICAgICAgICBzZXRJbWFnZVVybD17c2V0SW1hZ2VVcmx9XG4gICAgICAgICAgICB0b2tlbj17dG9rZW59XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8Tm9JbWFnZSBzZXRJbWFnZVVybD17c2V0SW1hZ2VVcmx9IHRva2VuPXt0b2tlbn0gLz5cbiAgICAgICAgKX1cbiAgICAgIDwvbWFpbj5cblxuICAgICAgPGZvb3Rlcj48L2Zvb3Rlcj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/index.tsx\n");

/***/ })

});